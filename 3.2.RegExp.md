# 创建正则

使用字面量：`const re = /ab+c`，由包含在斜杠之间的模式组成。

调用构造函数：`const re = new RegExp('ab+c')`。

# 简单模式

由想直接找到的字符构成。

```
例：/abc/ 能且仅能匹配 "abc" 字符按照顺序同时出现的情况。
```

# 特殊字符

当需要匹配一个不确定的字符串时，可以使用特殊字符。

## 断言

表示一个匹配在某些条件下发生。

边界类断言：

- `^`：匹配输入的开头。
- `$`：匹配输入的结束。
- `\b`：匹配一个单词的边界。
- `\B`：匹配非单词边界。

|            示例            | 描述                                                           |
| :------------------------: | :------------------------------------------------------------- |
|           `/^A/`           | 匹配不了 "an A" 里面的 "A"，但是可以匹配 "An A" 里面第一个 "A" |
|           `/t$/`           | 不能匹配 "eater" 中的 "t"，但是可以匹配 "eat" 中的 "t"         |
| `/\bm/` `/oo\b/` `/oon\b/` | 对 'moom' 匹配结果为：成功（第一个 'm'），失败，成功           |
| `/\Bm/` `/oo\B` `/oon\B/`  | 对 'moom' 匹配结果为： 成功（最后一个 'm'），成功，失败        |

其他断言：

- `x(?=y)`：先行断言，x 被 y 跟随时匹配 x。
- `x(?!y)`：先行否定断言，x 没有被 y 紧随时匹配 x。
- `(?<=y)x`：后行断言，x 跟随 y 的情况下匹配 x。
- `(?<!y)x`：后行否定断言，x 不跟随 y 时匹配 x。

|        示例        | 描述                                        |
| :----------------: | :------------------------------------------ |
|  `/Jack(?=Sprat)`  | 匹配 'Jack Sprat JackSprat' 中第二个 'Jack' |
|   `/\d+(?!\.)/`    | 匹配 '3.141' 中的 '141'                     |
| `/(?<=Spart)Jack/` | 匹配 'Sprat Jact SpratJact' 中第二个 'Jack' |
|   `/(?<!-)\d+/`    | 匹配数字不紧随 '-' 符号的情况               |

## 字符类

区分各种字符。

- `[xyz]` `[a-c]`：一个字符类，匹配包含在方括号中的任何字符，可以使用连字符指定范围，需放在中间否则视为字面符号。
- `[^xyz]` `[^a-c]`：一个否定或补充的字符类，需放在字符之前，否则视为字面符号。
- `.`：匹配除行终止符外的单个字符：`\n` `\r` `\u2028` `\u2029`。
- `\d`：匹配任何数字，相当于 `[0-9]`。
- `\D`：相反。
- `\w`：匹配基本拉丁字母中的任何字母数字字符，包括下划线，同 `[A-Za-z0-9_]`。
- `\W`：相反。
- `\s`：匹配单个空白字符，包括 `空格、制表符、换页符、换行符、其他 unicode 空格`。
- `\S`：相反。
- `\t`：匹配水平制表符。
- `\r`：匹配回车符。
- `\n`：匹配换行符。
- `\v`：匹配垂直制表符。
- `\f`：匹配换页符。
- `[\b]`：匹配退格键。
- `\`：指示应特殊处理或转义后面的字符。
- `|`：管道符，分隔的部分称为一个可选项。

|           示例           | 描述                                                      |
| :----------------------: | :-------------------------------------------------------- |
|  `[abcd-]` 同 `[a-d-]`   | 匹配 'brisket' 中的 'b'，'non-profit' 中的 '-'            |
|   `[^abc]` 同 `[^a-c]`   | 匹配 'bacon' 中的 'o'，'chop' 中的 'h'                    |
|          `/.y/`          | 匹配 'yes make my day' 中的 'my' 'ay' 而不是 'yes'        |
|          `/\d/`          | 匹配 'B2is the suite number' 中的 '2'                     |
|          `/\D/`          | 匹配 'B2is the suite number' 中的 'B'                     |
|          `/\w/`          | 匹配 '$5.28' 中的 '5'，'3D' 中的 '3'                      |
|          `/\W/`          | 匹配 '$5.28' 中的 '$'                                     |
|        `/\s\w*/`         | 匹配 'foo bar' 中的 ' bar'                                |
|        `/\S\w*/`         | 匹配 'foo bar' 中的 'foo'                                 |
| `/green\|red/('\' 去掉)` | 匹配 'green apple' 中的 'green' 和 'red apple' 中的 'red' |

## 组和反向引用

组和范围表示表达式字符的组和范围。

- `|`：匹配 `x|y` 中任意一个字符。
- `[]`：字符集，匹配任何一个包含的字符，可以使用连字符 `-` 表示范围，也可使用 `^` 表示否定。
- `()`：捕获组，`(x)` 匹配 'x' 并记住匹配项。
- `\n`：'n' 是一个正整数，对正则表达式中与第 'n' 个括号捕获的组的引用。
- `(?<Name>x)`：具名捕获组。

## 量词

表示要匹配的字符或表达式的数量。

- `x*`：将前面的项匹配 `0 - n` 次。
- `x+`：将前面的项匹配 `1 - n` 次。
- `x?`：将前面的项匹配 `0 - 1` 次。但如果在任何量词之后使用，则使量词变为 `非贪婪匹配`。
- `x{n}`：将前面的项匹配 `n` 次。
- `x{n,}`：将前面的项至少匹配 `n` 次。
- `x{n, m}`：将前面的项至少匹配 `n` 次，至多匹配 `m` 次。

|    示例     | 描述                                                   |
| :---------: | :----------------------------------------------------- |
|   `/bo*/`   | 匹配 'A ghost booooed' 中的 'boooo' 和 'bird' 中的 'b' |
|   `/a+/`    | 匹配 'candy' 中的 'a'，'caaaaaaady' 中的所有 'a'       |
|  `/e?le?/`  | 匹配 'angle' 中的 'le'，'angel' 中的 'el'              |
|  `/a{2}/`   | 匹配 'caandy' 中的 'aa'，'caaandy' 中前两个 'a'        |
|  `/a{2,}/`  | 匹配 'caandy'，'caaaaaandy' 中所有的 'a'               |
| `/a{1, 3}/` | 匹配 'candy' 中的 'a'，'caaaaaaandy' 中前三个 'a'      |
|  `/<.*>/`   | 匹配 'some <foo> <bar> thing' 中的 '<foo> <bar>'       |
|  `/<.*?>/`  | 匹配 'some <foo> <bar> thing' 中的 '<foo>'             |

# 使用正则

正则表达式可以用于：

- `RegExp`：`exec` `test`
- `String`：`match` `replace` `search` `split`

|    方法    | 描述                                               |
| :--------: | :------------------------------------------------- |
|   `exec`   | 返回一个数组，未匹配到则返回 `null`                |
|   `test`   | 返回 `true` 或 `false`                             |
|  `match`   | 返回一个数组，未匹配到则返回 `null`                |
| `matchAll` | 返回一个迭代器                                     |
|  `search`  | 返回匹配到的位置索引，失败时则返回 `-1`            |
| `replace`  | 使用替换字符串替换掉匹配到的子字符串               |
|  `split`   | 使用正则或者固定字符串分隔一个字符串，并储存到数组 |

# 标志

有六个参数标志，这个参数可以单独也可以任意组合。

- `g`：全局搜索。
- `i`：不区分大小写搜索。
- `m`：多行搜索。
- `s`：允许 `.` 匹配换行符。
- `u`：使用 `unicode` 码的模式进行匹配。
- `y`：执行 `粘性搜索`，匹配从目标字符串的当前位置开始。
